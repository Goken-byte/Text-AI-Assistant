<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text AI Assistant</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <i class="fas fa-robot"></i>
          <span>Text AI Assistant</span>
        </div>
        <div class="header-actions">
          <button class="icon-btn" id="settingsBtn" title="Settings">
            <i class="fas fa-cog"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- API Key Setup -->
    <div id="apiKeySetup" class="setup-card" style="display: none;">
      <div class="setup-icon">
        <i class="fas fa-key"></i>
      </div>
      <h2>API Key Required</h2>
      <p>Please set your OpenRouter API key to start using the extension</p>
      <div class="input-group">
        <input type="password" id="apiKeyInput" placeholder="sk-or-xxxxxxxxxxxxxxxxxxxxxxxx" class="modern-input">
        <button id="saveApiKey" class="btn btn-primary">
          <i class="fas fa-save"></i>
          Save API Key
        </button>
      </div>
      <div class="setup-footer">
        <a href="https://openrouter.ai/keys" target="_blank" class="link">
          <i class="fas fa-external-link-alt"></i>
          Get your API key from OpenRouter
        </a>
      </div>
    </div>

    <!-- Main Interface -->
    <div id="mainInterface" class="main-interface">
      <!-- Action Cards -->
      <div class="action-grid">
        <div class="action-card" data-action="summarize">
          <div class="action-icon">
            <i class="fas fa-file-contract"></i>
          </div>
          <h3>Summarize</h3>
          <p>Condense long text into key points</p>
        </div>
        
        <div class="action-card" data-action="rewrite">
          <div class="action-icon">
            <i class="fas fa-edit"></i>
          </div>
          <h3>Rewrite</h3>
          <p>Improve clarity and flow</p>
        </div>
        
        <div class="action-card" data-action="translate">
          <div class="action-icon">
            <i class="fas fa-language"></i>
          </div>
          <h3>Translate</h3>
          <p>Convert to other languages</p>
        </div>
        
        <div class="action-card" data-action="proofread">
          <div class="action-icon">
            <i class="fas fa-spell-check"></i>
          </div>
          <h3>Proofread</h3>
          <p>Fix grammar and spelling</p>
        </div>
      </div>

      <!-- Language Selection -->
      <div id="languageSection" class="section-card" style="display: none;">
        <h3><i class="fas fa-globe"></i> Target Language</h3>
        <select id="targetLanguage" class="modern-select">
          <option value="arabic">ğŸ‡¸ğŸ‡¦ Arabic - Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
          <option value="spanish">ğŸ‡ªğŸ‡¸ Spanish - EspaÃ±ol</option>
          <option value="french">ğŸ‡«ğŸ‡· French - FranÃ§ais</option>
          <option value="german">ğŸ‡©ğŸ‡ª German - Deutsch</option>
          <option value="chinese">ğŸ‡¨ğŸ‡³ Chinese - ä¸­æ–‡</option>
          <option value="japanese">ğŸ‡¯ğŸ‡µ Japanese - æ—¥æœ¬èª</option>
          <option value="russian">ğŸ‡·ğŸ‡º Russian - Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
          <option value="portuguese">ğŸ‡µğŸ‡¹ Portuguese - PortuguÃªs</option>
          <option value="hindi">ğŸ‡®ğŸ‡³ Hindi - à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
          <option value="italian">ğŸ‡®ğŸ‡¹ Italian - Italiano</option>
        </select>
      </div>

      <!-- Text Input -->
      <div class="section-card">
        <div class="section-header">
          <h3><i class="fas fa-edit"></i> Input Text</h3>
          <div class="text-actions">
            <button id="clearText" class="icon-btn small" title="Clear text">
              <i class="fas fa-eraser"></i>
            </button>
            <button id="getSelectedText" class="icon-btn small" title="Use selected text">
              <i class="fas fa-mouse-pointer"></i>
            </button>
          </div>
        </div>
        <textarea id="inputText" placeholder="Enter text to process or use the selected text button..." class="modern-textarea"></textarea>
        <div class="text-info">
          <span id="charCount">0 characters</span>
        </div>
      </div>

      <!-- Process Button -->
      <button id="processText" class="btn btn-primary btn-large btn-processing">
        <i class="fas fa-magic"></i>
        <span class="btn-text">Process Text</span>
        <div class="loading-spinner" style="display: none;"></div>
      </button>

      <!-- Results -->
      <div id="resultSection" class="section-card" style="display: none;">
        <div class="section-header">
          <h3><i class="fas fa-result"></i> Result</h3>
          <div class="result-actions">
            <button id="copyResult" class="icon-btn small" title="Copy result">
              <i class="fas fa-copy"></i>
            </button>
          </div>
        </div>
        <div id="result" class="result-content"></div>
        <div class="result-footer">
          <div id="resultStats" class="result-stats"></div>
        </div>
      </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-cog"></i> Settings</h3>
          <button class="icon-btn close-modal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="setting-item">
            <label for="modelSelect">AI Model</label>
            <select id="modelSelect" class="modern-select">
              <option value="google/gemini-flash-1.5-8b">Gemini Flash 1.5 (Fast)</option>
              <option value="google/gemini-pro-1.5">Gemini Pro 1.5 (Balanced)</option>
              <option value="anthropic/claude-3-haiku">Claude 3 Haiku (Quality)</option>
            </select>
          </div>
          <div class="setting-item">
            <label for="apiKeyDisplay">API Key</label>
            <div class="input-group">
              <input type="password" id="apiKeyDisplay" class="modern-input">
              <button id="updateApiKey" class="btn btn-secondary">
                <i class="fas fa-sync"></i>
              </button>
            </div>
          </div>
          <div class="setting-item">
            <button id="clearAllData" class="btn btn-danger">
              <i class="fas fa-trash"></i>
              Clear All Data
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>